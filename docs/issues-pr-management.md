# Правила оформления коммитов и PR

Целью этого документа является установление правил и норм оформления коммитов и PR-ов для платформы VITACORE.

## Правила оформления коммитов

В коммитах, относящихся к одной задаче, один из коммитов должен иметь следующий формат:

```
feat: #номер_задачи текст – если добавлено что-то новое

fix: #номер_задачи текст – если что-то исправлено
```

Текст коммитов должен отражать суть изменений. Поэтому текст писать простыми словами и без ошибок, чтобы пользователь мог легко понять, что изменилось.

## Правила оформления PR

-   Название писать в формате #номер_задачи - краткая суть решения
-   В описании указать:
    -   Что сделано
    -   Прикрепить задачу
-   Указать optional и required reviewers

## Правила работы с PR

### Участники PR

При работе с PR есть 5 участников:

1.  Программист – создатель PR, который отвечает за реализацию задачи.
2.  Optional reviewer – первым делает ревью PR. Это может быть любой программист, кроме Required reviewer и Observer.
3.  Required reviewer – программист, который обязан сделать ревью PR.
4.  Merger – сливает код задачи в основную ветку.
5.  Observer – наблюдает за процессом работы с PR.

### Регламенты

В процессе работы с PR участникам необходимо следовать следующим регламентам:

-   Каждый участник получает информацию обо всех изменениях в PR. Для этого они могут получать уведомления об изменениях PR на свою почту или заглядывать в PR самостоятельно. Все участники общаются в комментах PR.

-   После оформления PR Программист пишет коммент о том, что PR готов и можно делать ревью.

-   Optional reviewer делает ревью и передает свои комментарии Программисту или Required reviewer.

-   Required reviewer делает ревью и передает свои комментарии Optional reviewer или Merger.

-   Merger сливает код задачи в основную ветку и выставляет задаче статус Closed.

-   Если после мерджа в основную ветку статус задачи не был автоматически выставлен в Closed, то Required reviewer вручную ставит статус Closed.

-   При необходимости merge conflict устраняет вместе с Программистом, создавшим ветку.

-   Любой Reviewer о любых действиях с PR, выходящих за рамки правил выше, уведомляет Программиста (например, если из-за сбоя внутри CI/CD для закрытия задачи были созданы ветка-копия, новый PR и после этого код был слит в develop, а Программист об этом не знал, то его нужно уведомить об этом, чтобы он знал, что код принят).

-   Если во время обсуждения вопросов по коду Программисту и любому Reviewer не удалось прийти общему решению, то Программист, Reviewer и Observer созваниваются и втроем решают, как лучше поступить.

-   Члены команды обращаются друг к другу уважительно, доброжелательно, любые комментарии к коду и предложения о его изменении высказываются аргументированно.
